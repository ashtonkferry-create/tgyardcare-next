---
phase: 01-github-lovable-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false

must_haves:
  truths:
    - "GitHub repository exists at github.com/totalguardllc/tgyardcare"
    - "Lovable project shows Connected status in GitHub connector"
    - "Claude Code can clone the repository"
    - "Claude Code can push to the repository"
  artifacts:
    - path: "github.com/totalguardllc/tgyardcare"
      provides: "Version-controlled code repository"
      type: "remote repository"
    - path: "Local clone"
      provides: "Working directory for Claude Code"
      type: "local directory"
  key_links:
    - from: "Lovable project"
      to: "GitHub repository"
      via: "Lovable GitHub App webhook"
      verification: "Changes in Lovable appear as commits in GitHub"
    - from: "Claude Code (local)"
      to: "GitHub repository"
      via: "git push over HTTPS/SSH"
      verification: "gh repo view succeeds, git push succeeds"
---

<objective>
Connect the existing TotalGuard Yard Care Lovable project to GitHub for version control.

Purpose: Enable Claude Code to work with the website codebase locally while maintaining two-way sync with Lovable's cloud editor. This is the foundation for all subsequent development phases.

Output: A GitHub repository at github.com/totalguardllc/tgyardcare that syncs bidirectionally with the Lovable project, with verified local clone and push access.
</objective>

<execution_context>
@C:\Users\vance\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\vance\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-github-lovable-setup/01-RESEARCH.md
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 1: Connect Lovable to GitHub</name>
  <action>
    User must connect the existing Lovable project to GitHub via Lovable's web interface.

    This CANNOT be automated because:
    - Lovable's UI requires browser-based OAuth flow
    - GitHub App installation requires interactive authorization
    - Lovable must create the repository to configure webhooks correctly

    DO NOT attempt to create the repository via gh CLI - Lovable must own the connection.
  </action>
  <instructions>
    **Step 1: Authorize GitHub Account**
    1. Open your Lovable project at lovable.dev
    2. Navigate to Settings (gear icon) -> Connectors -> GitHub
    3. Click "Connect GitHub"
    4. Sign in with totalguardllc@gmail.com if prompted
    5. Authorize the Lovable.dev application

    **Step 2: Install Lovable GitHub App**
    1. Return to Settings -> Connectors -> GitHub
    2. Click "Connect project"
    3. Select "Add organizations" if your account/org isn't listed
    4. Choose where to install: personal account OR "totalguardllc" organization
    5. Select "All repositories" (or specific if preferred)
    6. Click "Install & Authorize"

    **Step 3: Create Repository Connection**
    1. In the same GitHub connector section
    2. Click "Connect project" (or the option that appears)
    3. Select the GitHub account/organization to create the repo under
    4. Confirm by clicking "Transfer anyway" if prompted
    5. Wait for Lovable to show "Connected" status

    **Expected outcome:**
    - Repository created at: github.com/totalguardllc/tgyardcare (or similar name based on project)
    - Lovable shows green "Connected" indicator
    - Initial code has been pushed to GitHub
  </instructions>
  <verify>
    After completing, provide:
    1. The exact repository URL that Lovable created
    2. Confirmation that Lovable shows "Connected" status
  </verify>
  <resume-signal>Provide the repository URL (e.g., github.com/totalguardllc/tgyardcare) and confirm Lovable shows Connected status</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Verify Repository and Configure Local Access</name>
  <files>None (verification only, no files created in project)</files>
  <action>
    After user confirms Lovable connection, verify GitHub repository accessibility and configure local access.

    1. Authenticate gh CLI if not already authenticated:
       ```bash
       gh auth status
       # If not authenticated:
       gh auth login
       ```

    2. Verify repository exists and is accessible:
       ```bash
       gh repo view totalguardllc/tgyardcare
       ```
       Replace 'totalguardllc/tgyardcare' with actual repo path from Task 1.

    3. Clone the repository to a working directory:
       ```bash
       gh repo clone totalguardllc/tgyardcare C:\Users\vance\OneDrive\Desktop\claude-workspace\tgyardcare
       ```
       Adjust path as needed for the user's preferred location.

    4. Verify clone contains Lovable project files:
       ```bash
       ls -la tgyardcare/
       cat tgyardcare/package.json
       ```

    5. Test push access by creating a verification commit:
       ```bash
       cd tgyardcare
       echo "# TotalGuard Yard Care - Local Verified" >> README.md
       git add README.md
       git commit -m "docs: verify Claude Code push access"
       git push origin main
       ```

    6. Confirm commit appears in GitHub:
       ```bash
       gh repo view totalguardllc/tgyardcare --json defaultBranchRef --jq '.defaultBranchRef.target.history.nodes[0].messageHeadline'
       ```
  </action>
  <verify>
    - `gh repo view [repo]` shows repository info without errors
    - Local clone exists with Lovable project files (package.json, src/, etc.)
    - `git push` succeeds without permission errors
    - Verification commit visible in GitHub
  </verify>
  <done>
    Claude Code has verified read and write access to the GitHub repository. Local clone exists and push succeeded.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify Two-Way Sync</name>
  <what-built>
    GitHub repository connected to Lovable with local clone and push access configured.
  </what-built>
  <how-to-verify>
    Verify the two-way sync is working:

    1. **Lovable -> GitHub test:**
       - Open your Lovable project
       - Make a small visible change (e.g., change text on homepage)
       - Save in Lovable
       - Check GitHub: `gh repo view totalguardllc/tgyardcare --web`
       - Confirm a new commit appeared (Lovable auto-commits on save)

    2. **GitHub -> Lovable test:**
       - The push from Task 2 should already be visible
       - In Lovable, check that the README.md change appears
       - If Lovable has a "sync" or "pull" button, click it
       - Verify the "Local Verified" text appears in Lovable's file browser

    **Expected behavior:**
    - Changes in Lovable appear in GitHub within seconds
    - Changes pushed to GitHub main branch appear in Lovable
  </how-to-verify>
  <resume-signal>Type "approved" if both directions sync correctly, or describe any sync issues</resume-signal>
</task>

</tasks>

<verification>
Phase 1 is complete when:
- [ ] GitHub repository exists at the URL Lovable created
- [ ] Lovable shows "Connected" status in GitHub connector
- [ ] gh CLI can view repository without errors
- [ ] Local clone exists with project files
- [ ] Push to GitHub succeeds
- [ ] Two-way sync verified (Lovable -> GitHub and GitHub -> Lovable)
</verification>

<success_criteria>
1. Repository exists at github.com/totalguardllc/tgyardcare (or confirmed URL)
2. Lovable project syncs code to GitHub on save (verified by user)
3. Claude Code can clone and push to repository (verified by successful git push)
</success_criteria>

<output>
After completion, create `.planning/phases/01-github-lovable-setup/01-01-SUMMARY.md` with:
- Actual repository URL created by Lovable
- Local clone path
- Any observations about Lovable's commit message format
- Confirmation of two-way sync behavior
</output>
